(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t(43)},24:function(e,a,t){},25:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(12),s=t.n(o),l=(t(24),t(13)),c=t(14),m=t(16),i=t(15),d=t(17);t(25);var h=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:""},"Google Books Search"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{onClick:e.toggleStarred,className:"nav-link",href:"#"},r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",{className:"ml-1"},"Starred")))),r.a.createElement("div",{className:"d-flex float-right h-100"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{onChange:e.handleInputChange,className:"search_input",type:"text",name:"",placeholder:"Search..."}),r.a.createElement("a",{href:"",onClick:e.handleFormSubmit,className:"search_icon"},r.a.createElement("i",{className:"fas fa-search"}))))))};var u=function(){return r.a.createElement("div",{className:"jumbotron jumbotron-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"Google Book Search"),r.a.createElement("p",{className:"lead"},"Search and save books!")))};var v=function(e){return e.starred?e.books.length<=0?r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,"No books saved.")):r.a.createElement("div",{className:"container"},e.books.map(function(a){return r.a.createElement("div",{className:"card mb-4 border-primary",key:a._id,"data-id":a._id},r.a.createElement("h5",{className:"card-header text-left bg-primary text-white"},a.title,r.a.createElement("a",{href:"",className:"float-right text-white",onClick:e.handleDeleteBook,"data-id":a._id},r.a.createElement("i",{class:"fas fa-trash-alt"}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("p",{className:"author"},"Author(s):",a.authors.map(function(e){return r.a.createElement("p",{className:"authors-loop"},e)})),r.a.createElement("img",{src:a.thumbnail,className:"book-image"}),r.a.createElement("p",{className:"mt-4 rating"},"User Rating: ",a.avgRating)),r.a.createElement("div",{className:"col-10 text-left"},r.a.createElement("h5",{className:"card-title"},"Description:"),a.longDesc,r.a.createElement("hr",null),r.a.createElement("h5",{className:"mt-4 card-title"},"Book Info:"),r.a.createElement("p",{className:"book-info"},"Publisher: ",a.publisher),r.a.createElement("p",{className:"book-info"},"Published Date: ",a.publishedDate),r.a.createElement("p",{className:"book-info"},"Page Count: ",a.pageCount)))))})):null};var f=function(e){var a=e.items,t=(e.hasError,e.starred),n=e.handleSave,o=e.saved;return a&&!t?r.a.createElement("div",{className:"container id=top"},o?r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Book Saved!"):"",a.map(function(e){return r.a.createElement("div",{key:e.id,className:"card text-left mb-4 border-primary"},r.a.createElement("h5",{className:"card-header"},e.volumeInfo.title),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("p",{className:"author"},"Author(s):",e.volumeInfo.authors.map(function(e){return r.a.createElement("p",{className:"authors-loop"},e)})),r.a.createElement("img",{className:"book-image",src:e.volumeInfo.imageLinks.smallThumbnail})),r.a.createElement("div",{className:"col-10 text-left"},r.a.createElement("p",{className:"card-text"},e.searchInfo.textSnippet=e.searchInfo.textSnippet),r.a.createElement("a",{href:e.volumeInfo.canonicalVolumeLink,className:"btn btn-primary"},"Go to Book"),r.a.createElement("a",{onClick:n,"data-key":e.id,className:"ml-2 btn btn-success",href:"#top"},"Save Book"))),r.a.createElement("div",{className:"row"})))})):t?null:r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Please search a book."))},p=t(2),E=t.n(p),b={getBooks:function(){return E.a.get("/api/books")},deleteBook:function(e){return console.log(e),E.a.delete("/api/books/"+e)},saveBook:function(e){return E.a.post("/api/books/"+e)}},k=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={items:[],searchTerm:"",saved:!1,showStarred:!1,starredBooks:[]},t.fetchData=function(){var e=t.state.searchTerm.split(" ").join("+");fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({items:e.items})}).catch(function(e){})},t.handleFormSubmit=function(e){e.preventDefault(),t.setState({showStarred:!1},t.fetchData())},t.handleSaveBook=function(e){b.saveBook(e.currentTarget.dataset.key).then(t.setState({saved:!0})).catch(function(e){return console.log(e)})},t.handleDeleteBook=function(e){e.preventDefault(),b.deleteBook(e.currentTarget.dataset.id).then(function(e){t.toggleStarred()}).then(function(e){t.toggleStarred()})},t.handleInputChange=function(e){t.setState({searchTerm:e.currentTarget.value})},t.toggleStarred=function(){b.getBooks().then(function(e){t.setState({showStarred:!t.state.showStarred,starredBooks:e.data})})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange,toggleStarred:this.toggleStarred}),r.a.createElement(u,null),r.a.createElement(f,{items:this.state.items,saved:this.state.saved,starred:this.state.showStarred,handleSave:this.handleSaveBook}),r.a.createElement(v,{starred:this.state.showStarred,books:this.state.starredBooks,handleDeleteBook:this.handleDeleteBook}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.0e91f21a.chunk.js.map